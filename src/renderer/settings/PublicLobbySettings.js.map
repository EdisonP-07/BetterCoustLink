{"version":3,"file":"PublicLobbySettings.js","sourceRoot":"","sources":["PublicLobbySettings.tsx"],"names":[],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport makeStyles from '@mui/styles/makeStyles';\nimport { DialogContent, DialogTitle, DialogActions, Dialog, Button, TextField, IconButton } from '@mui/material';\nimport languages from '../language/languages';\nimport { ILobbySettings } from '../../common/ISettings';\nimport Alert from '@mui/material/Alert';\nimport ChevronLeft from '@mui/icons-material/ArrowBack';\n\ntype publicLobbySettingProps = {\n\tt: (key: string) => string;\n\tupdateSetting: <K extends keyof ILobbySettings>(setting: K, newValue: ILobbySettings[K]) => void;\n\tlobbySettings: ILobbySettings;\n\tcanChange: boolean;\n\tclassName: string;\n};\n\nconst useStyles = makeStyles((theme) => ({\n\tspecialButton: {\n\t\twidth: '90%',\n\t\tmarginBottom: '10px',\n\t},\n\theader: {\n\t\tdisplay: 'flex',\n\t\talignItems: 'center',\n\t},\n\tback: {\n\t\tcursor: 'pointer',\n\t\tposition: 'absolute',\n\t\tright: theme.spacing(1),\n\t\tWebkitAppRegion: 'no-drag',\n\t},\n}));\nconst RawPublicLobbySettings: React.FC<publicLobbySettingProps> = function ({\n\tt,\n\tlobbySettings,\n\tupdateSetting,\n\tcanChange,\n\tclassName,\n}: publicLobbySettingProps) {\n\tconst [open, setOpen] = useState(false);\n\tconst classes = useStyles();\n\tuseEffect(() => {\n\t\tsetLobbySettingState(lobbySettings);\n\t}, [lobbySettings]);\n\n\tconst [lobbySettingState, setLobbySettingState] = useState(lobbySettings);\n\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\tvariant=\"contained\"\n\t\t\t\tcolor=\"secondary\"\n\t\t\t\tclassName={classes.specialButton}\n\t\t\t\tonClick={() => setOpen(true)}\n\t\t\t\tdisabled={!canChange}\n\t\t\t>\n\t\t\t\t{t('settings.lobbysettings.public_lobby.change_settings')}\n\t\t\t</Button>\n\t\t\t<Dialog fullScreen open={open} onClose={() => setOpen(false)}>\n\t\t\t\t<div className={classes.header}>\n\t\t\t\t\t<DialogTitle>{t('settings.lobbysettings.public_lobby.change_settings')}</DialogTitle>\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\tclassName={classes.back}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tsetOpen(false);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ChevronLeft htmlColor=\"#777\" />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</div>\n\t\t\t\t<DialogContent className={className}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tspellCheck={false}\n\t\t\t\t\t\tlabel={t('settings.lobbysettings.public_lobby.title')}\n\t\t\t\t\t\tvalue={lobbySettingState.publicLobby_title}\n\t\t\t\t\t\tonChange={(ev) => setLobbySettingState({ ...lobbySettingState, publicLobby_title: ev.target.value })}\n\t\t\t\t\t\tonBlur={(ev) => updateSetting('publicLobby_title', ev.target.value)}\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tdisabled={!canChange}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tselect\n\t\t\t\t\t\tlabel={t('settings.lobbysettings.public_lobby.language')}\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\tSelectProps={{ native: true }}\n\t\t\t\t\t\tInputLabelProps={{ shrink: true }}\n\t\t\t\t\t\tvalue={lobbySettingState.publicLobby_language}\n\t\t\t\t\t\tonChange={(ev) => setLobbySettingState({ ...lobbySettingState, publicLobby_language: ev.target.value })}\n\t\t\t\t\t\tonBlur={(ev) => updateSetting('publicLobby_language', ev.target.value)}\n\t\t\t\t\t\tdisabled={!canChange}\n\t\t\t\t\t>\n\t\t\t\t\t\t{Object.entries(languages).map(([key, value]) => (\n\t\t\t\t\t\t\t<option key={key} value={key}>\n\t\t\t\t\t\t\t\t{value.name}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</TextField>\n\n\t\t\t\t\t<Alert severity=\"error\">{t('settings.lobbysettings.public_lobby.ban_warning')}</Alert>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tsetOpen(false);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t('buttons.confirm')}\n\t\t\t\t\t</Button>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</>\n\t);\n};\n\nconst PublicLobbySettings = React.memo(RawPublicLobbySettings);\n\nexport default PublicLobbySettings;\n"]}