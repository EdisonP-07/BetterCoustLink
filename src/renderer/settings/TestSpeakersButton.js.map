{"version":3,"file":"TestSpeakersButton.js","sourceRoot":"","sources":["TestSpeakersButton.tsx"],"names":[],"mappings":"AAAA,OAAO,KAAK,EAAE,EAAE,QAAQ,EAAE,SAAS,EAAE,MAAM,OAAO,CAAC;AACnD,aAAa;AACb,OAAO,KAAK,MAAM,kCAAkC,CAAC;AAErD,OAAO,MAAM,MAAM,sBAAsB,CAAC;AAC1C,OAAO,UAAU,MAAM,wBAAwB,CAAC;AAOhD,MAAM,SAAS,GAAG,UAAU,CAAC,GAAG,EAAE,CAAC,CAAC;IACnC,MAAM,EAAE;QACP,KAAK,EAAE,aAAa;QACpB,MAAM,EAAE,UAAU;KAClB;CACD,CAAC,CAAC,CAAC;AAEJ,MAAM,KAAK,GAAG,IAAI,KAAK,EAA0B,CAAC;AAClD,KAAK,CAAC,GAAG,GAAG,KAAK,CAAC;AAElB,MAAM,kBAAkB,GAAgC,CAAC,EAAE,CAAC,EAAE,OAAO,EAAqB,EAAE,EAAE;IAC7F,MAAM,OAAO,GAAG,SAAS,EAAE,CAAC;IAC5B,MAAM,CAAC,OAAO,EAAE,UAAU,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;IAE9C,SAAS,CAAC,GAAG,EAAE;QACd,IAAI,OAAO,CAAC,WAAW,EAAE,KAAK,SAAS;YAAE,KAAK,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;QAClE,KAAK,CAAC,OAAO,GAAG,GAAG,EAAE;YACpB,UAAU,CAAC,KAAK,CAAC,CAAC;QACnB,CAAC,CAAC;IACH,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC,CAAC;IAEd,MAAM,YAAY,GAAG,GAAG,EAAE;QACzB,IAAI,OAAO,EAAE;YACZ,KAAK,CAAC,KAAK,EAAE,CAAC;YACd,KAAK,CAAC,WAAW,GAAG,CAAC,CAAC;YACtB,UAAU,CAAC,KAAK,CAAC,CAAC;SAClB;aAAM;YACN,KAAK,CAAC,IAAI,EAAE,CAAC;YACb,UAAU,CAAC,IAAI,CAAC,CAAC;SACjB;IACF,CAAC,CAAC;IAEF,OAAO,CACN,oBAAC,MAAM,IAAC,OAAO,EAAC,WAAW,EAAC,KAAK,EAAC,WAAW,EAAC,IAAI,EAAC,OAAO,EAAC,SAAS,EAAE,OAAO,CAAC,MAAM,EAAE,OAAO,EAAE,YAAY,IACzG,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,kCAAkC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,mCAAmC,CAAC,CACjF,CACT,CAAC;AACH,CAAC,CAAC;AAEF,eAAe,kBAAkB,CAAC","sourcesContent":["import React, { useState, useEffect } from 'react';\n// @ts-ignore\nimport chime from '../../../static/sounds/chime.mp3';\nimport { ExtendedAudioElement } from '../Voice';\nimport Button from '@mui/material/Button';\nimport makeStyles from '@mui/styles/makeStyles';\n\ninterface TestSpeakersProps {\n\tt: (key: string) => string;\n\tspeaker: string;\n}\n\nconst useStyles = makeStyles(() => ({\n\tbutton: {\n\t\twidth: 'fit-content',\n\t\tmargin: '5px auto',\n\t},\n}));\n\nconst audio = new Audio() as ExtendedAudioElement;\naudio.src = chime;\n\nconst TestSpeakersButton: React.FC<TestSpeakersProps> = ({ t, speaker }: TestSpeakersProps) => {\n\tconst classes = useStyles();\n\tconst [playing, setPlaying] = useState(false);\n\n\tuseEffect(() => {\n\t\tif (speaker.toLowerCase() !== 'default') audio.setSinkId(speaker);\n\t\taudio.onended = () => {\n\t\t\tsetPlaying(false);\n\t\t};\n\t}, [speaker]);\n\n\tconst testSpeakers = () => {\n\t\tif (playing) {\n\t\t\taudio.pause();\n\t\t\taudio.currentTime = 0;\n\t\t\tsetPlaying(false);\n\t\t} else {\n\t\t\taudio.play();\n\t\t\tsetPlaying(true);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Button variant=\"contained\" color=\"secondary\" size=\"small\" className={classes.button} onClick={testSpeakers}>\n\t\t\t{playing ? t('settings.audio.test_speaker_stop') : t('settings.audio.test_speaker_start')}\n\t\t</Button>\n\t);\n};\n\nexport default TestSpeakersButton;\n"]}