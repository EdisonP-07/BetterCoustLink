{"version":3,"file":"LobbyBrowser.js","sourceRoot":"","sources":["LobbyBrowser.tsx"],"names":[],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport withStyles from '@mui/styles/withStyles';\nimport makeStyles from '@mui/styles/makeStyles';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport Paper from '@mui/material/Paper';\nimport Button from '@mui/material/Button';\nimport { ipcRenderer } from 'electron';\nimport { IpcHandlerMessages, IpcMessages } from '../../common/ipc-messages';\nimport io from 'socket.io-client';\nimport i18next from 'i18next';\nimport { Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, Tooltip } from '@mui/material';\nimport languages from '../language/languages';\nimport { PublicLobbyMap, PublicLobby } from '../../common/PublicLobby';\nimport { modList, ModsType } from '../../common/Mods';\nimport { GameState } from '../../common/AmongUsState';\nimport SettingsStore from '../settings/SettingsStore';\n\nconst serverUrl = SettingsStore.get('serverURL', 'https://bettercrewl.ink/');\nconst language = SettingsStore.get('language', 'en');\ni18next.changeLanguage(language);\n\nconst StyledTableCell = withStyles((theme) => ({\n\thead: {\n\t\tbackgroundColor: '#1d1a23',\n\t\tcolor: theme.palette.common.white,\n\t},\n\tbody: {\n\t\tfontSize: 14,\n\t},\n}))(TableCell);\n\nconst StyledTableRow = withStyles(() => ({\n\troot: {\n\t\t'&:nth-of-type(odd)': {\n\t\t\tbackgroundColor: '#25232a',\n\t\t},\n\t\t'&:nth-of-type(even)': {\n\t\t\tbackgroundColor: '#1d1a23',\n\t\t},\n\t},\n}))(TableRow);\n\nconst useStyles = makeStyles({\n\ttable: {\n\t\tminWidth: 700,\n\t},\n\tcontainer: {\n\t\tmaxHeight: '400px',\n\t},\n});\n\nconst servers: {\n\t[server: string]: string;\n} = {\n\t// '50.116.1.42': 'North America',\n\t// '172.105.251.170': 'Europe',\n\t// '139.162.111.196': 'Asia',\n\t'192.241.154.115': 'skeld.net',\n\t'154.16.67.100': 'Modded (North America)',\n\t'78.47.142.18': 'Modded (Europe)',\n};\n\nfunction sortLobbies(a: PublicLobby, b: PublicLobby) {\n\tif (a.gameState === GameState.LOBBY && b.gameState !== GameState.LOBBY) {\n\t\treturn -1;\n\t} else if (b.gameState === GameState.LOBBY && a.gameState !== GameState.LOBBY) {\n\t\treturn 1;\n\t} else {\n\t\tif (b.current_players === b.max_players && a.current_players !== a.max_players) {\n\t\t\treturn -1;\n\t\t}\n\t\tif (a.current_players < b.current_players) {\n\t\t\treturn 1;\n\t\t} else if (a.current_players > b.current_players) {\n\t\t\treturn -1;\n\t\t}\n\t\treturn 0;\n\t}\n}\n\nfunction getModName(mod: string): string {\n\treturn modList.find((o) => o.id === mod)?.label || (mod ?? 'None')\n}\n\n// @ts-ignore\nexport default function lobbyBrowser({ t }) {\n\tconst classes = useStyles();\n\tconst [publiclobbies, setPublicLobbies] = useState<PublicLobbyMap>({});\n\tconst [socket, setSocket] = useState<SocketIOClient.Socket>();\n\tconst [code, setCode] = React.useState('');\n\tconst [, forceRender] = useState({});\n\n\tconst [mod, setMod] = useState<ModsType>('NONE');\n\t\n\tuseEffect(() => {\n\t\tipcRenderer.invoke(IpcMessages.REQUEST_MOD).then((mod: ModsType) => setMod(mod));\n\n\t\tconst s = io(serverUrl, {\n\t\t\ttransports: ['websocket'],\n\t\t});\n\t\tsetSocket(s);\n\n\t\ts.on('update_lobby', (lobby: PublicLobby) => {\n\t\t\tsetPublicLobbies((old) => ({ ...old, [lobby.id]: lobby }));\n\t\t});\n\n\t\ts.on('new_lobbies', (lobbies: PublicLobby[]) => {\n\t\t\tsetPublicLobbies((old) => {\n\t\t\t\tconst lobbyMap: PublicLobbyMap = { ...old };\n\t\t\t\tfor (const index in lobbies) {\n\t\t\t\t\tlobbyMap[lobbies[index].id] = lobbies[index];\n\t\t\t\t}\n\t\t\t\treturn lobbyMap;\n\t\t\t});\n\t\t});\n\t\ts.on('remove_lobby', (lobbyId: number) => {\n\t\t\tsetPublicLobbies((old) => {\n\t\t\t\tdelete old[lobbyId];\n\t\t\t\treturn { ...old };\n\t\t\t});\n\t\t});\n\t\ts.on('connect', () => {\n\t\t\ts.emit('lobbybrowser', true);\n\t\t});\n\n\t\tipcRenderer.on(IpcHandlerMessages.JOIN_LOBBY_ERROR, (event, code, server) => {\n\t\t\tconsole.log('ERROR: ', code);\n\t\t\tsetCode(`${code}  ${servers[server] ? `on region ${servers[server]}` : `\\n Custom Server: ${server}`}`);\n\t\t});\n\t\tconst secondPassed = setInterval(() => {\n\t\t\tforceRender({});\n\t\t}, 1000);\n\t\treturn () => {\n\t\t\tsocket?.emit('lobbybrowser', false);\n\t\t\tsocket?.close();\n\t\t\tclearInterval(secondPassed);\n\t\t};\n\t}, []);\n\n\treturn (\n\t\t<div style={{ height: '100%', width: '100%', paddingTop: '15px' }}>\n\t\t\t<div style={{ height: '500px', padding: '20px' }}>\n\t\t\t\t<b>{t('lobbybrowser.header')}</b>\n\t\t\t\t<Dialog\n\t\t\t\t\topen={code !== ''}\n\t\t\t\t\t// TransitionComponent={Transition}\n\t\t\t\t\tkeepMounted\n\t\t\t\t\taria-labelledby=\"alert-dialog-slide-title\"\n\t\t\t\t\taria-describedby=\"alert-dialog-slide-description\"\n\t\t\t\t>\n\t\t\t\t\t<DialogTitle id=\"alert-dialog-slide-title\">Lobby information</DialogTitle>\n\t\t\t\t\t<DialogContent>\n\t\t\t\t\t\t<DialogContentText id=\"alert-dialog-slide-description\">\n\t\t\t\t\t\t\t{code.split('\\n').map((i, key) => {\n\t\t\t\t\t\t\t\treturn <div key={key}>{i}</div>;\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</DialogContentText>\n\t\t\t\t\t</DialogContent>\n\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t<Button onClick={() => setCode('')} color=\"primary\">\n\t\t\t\t\t\t\t{t('buttons.close')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</DialogActions>\n\t\t\t\t</Dialog>\n\t\t\t\t<Paper>\n\t\t\t\t\t<TableContainer component={Paper} className={classes.container}>\n\t\t\t\t\t\t<Table className={classes.table} aria-label=\"customized table\" stickyHeader>\n\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t<StyledTableCell>{t('lobbybrowser.list.title')}</StyledTableCell>\n\t\t\t\t\t\t\t\t\t<StyledTableCell align=\"left\">{t('lobbybrowser.list.host')}</StyledTableCell>\n\t\t\t\t\t\t\t\t\t<StyledTableCell align=\"left\">{t('lobbybrowser.list.players')}</StyledTableCell>\n\t\t\t\t\t\t\t\t\t<StyledTableCell align=\"left\">{t('lobbybrowser.list.mods')}</StyledTableCell>\n\t\t\t\t\t\t\t\t\t<StyledTableCell align=\"left\">{t('lobbybrowser.list.language')}</StyledTableCell>\n\t\t\t\t\t\t\t\t\t<StyledTableCell align=\"left\">Status</StyledTableCell>\n\t\t\t\t\t\t\t\t\t{/* {t('lobbybrowser.list.staut')} */}\n\t\t\t\t\t\t\t\t\t<StyledTableCell align=\"left\"></StyledTableCell>\n\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t{Object.values(publiclobbies)\n\t\t\t\t\t\t\t\t\t.sort(sortLobbies)\n\t\t\t\t\t\t\t\t\t.map((row: PublicLobby) => (\n\t\t\t\t\t\t\t\t\t\t<StyledTableRow key={row.id}>\n\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell component=\"th\" scope=\"row\">\n\t\t\t\t\t\t\t\t\t\t\t\t{row.title}\n\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell align=\"left\">{row.host}</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell align=\"left\">\n\t\t\t\t\t\t\t\t\t\t\t\t{row.current_players}/{row.max_players}\n\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell align=\"left\">\n\t\t\t\t\t\t\t\t\t\t\t\t{getModName(row.mods)}\n\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell align=\"left\">\n\t\t\t\t\t\t\t\t\t\t\t\t{(languages as any)[row.language]?.name ?? 'English'}\n\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell align=\"left\">\n\t\t\t\t\t\t\t\t\t\t\t\t{row.gameState === GameState.LOBBY ? 'Lobby' : 'In game'}{' '}\n\t\t\t\t\t\t\t\t\t\t\t\t{row.stateTime && new Date(Date.now() - row.stateTime).toISOString().substr(14, 5)}\n\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t\t<StyledTableCell align=\"right\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trow.gameState !== GameState.LOBBY ? t('lobbybrowser.code_tooltips.in_progress') :\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trow.max_players === row.current_players ? t('lobbybrowser.code_tooltips.full_lobby') :\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trow.mods != mod ? `${t('lobbybrowser.code_tooltips.incompatible')} '${getModName(mod)}' ${t('lobbybrowser.code_tooltips.and')} '${getModName(row.mods)}'` : \"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trow.gameState !== GameState.LOBBY ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trow.max_players === row.current_players ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trow.mods != mod\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsocket?.emit(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'join_lobby',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trow.id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(state: number, codeOrError: string, server: string, publicLobby: PublicLobby) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (state === 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetCode(`${t('lobbybrowser.code')}: ${codeOrError} \\n Region: ${server}`);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// ipcRenderer.send(IpcHandlerMessages.JOIN_LOBBY, codeOrError, server);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetCode(`Error: ${codeOrError}`);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tShow code\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t\t\t\t\t{/* <Button variant=\"contained\" color=\"secondary\" style={{ marginLeft: '5px' }}>\n\t\t\t\t\t\t\t\t\t\t\t\treport\n\t\t\t\t\t\t\t\t\t\t\t</Button> */}\n\t\t\t\t\t\t\t\t\t\t\t</StyledTableCell>\n\t\t\t\t\t\t\t\t\t\t</StyledTableRow>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t</Table>\n\t\t\t\t\t</TableContainer>\n\t\t\t\t</Paper>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n"]}